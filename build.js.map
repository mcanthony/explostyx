{"version":3,"sources":["explostyts.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function (THREE) {\n\n  'use strict';\n\n  let width;\n  let height;\n\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(75, 0.75, 0.1, 1000);\n  const r = new THREE.WebGLRenderer({alpha: true,  antialias: true});\n  const dom = r.domElement;\n  document.body.appendChild(dom);\n  dom.style.position = 'absolute';\n  dom.style.top = dom.style.left = 0;\n\n  const resize = () => {\n    height = window.innerHeight;\n    width = window.innerWidth;\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n    r.setSize(width, height);\n  };\n  window.addEventListener('resize', resize, false);\n  resize();\n\n  let mouse = { x: width * 0.5, y: height * 0.5 };\n  window.addEventListener('mousemove', (e) => {\n    mouse.x = e.clientX;\n    mouse.y = e.clientY;\n  }, false);\n  window.addEventListener('mouseout', () => {\n    mouse.x = width * 0.5;\n    mouse.y = height * 0.5;\n  }, false);\n\n  const geometry = new THREE.BoxGeometry(1, 1, 1);\n  const material = new THREE.MeshPhongMaterial( {\n    color: 0xf0f080,\n    shininess: 1,\n    specular: 0x000000,\n    shading: THREE.FlatShading\n  });\n\n  const cubes = [true]\n    .reduce((ac, e) => {\n      while (ac.length < 350) { ac.push(e); }\n      return ac;\n    },[])\n    //.fill(true)\n    .map((c, n) => {\n      const x = Math.cos(n) * 3.5;\n      const y = Math.sin(n) * 2;\n      return [x, y, -11];\n    })\n    .map(function (pos, i) {\n      const cube = new THREE.Mesh(geometry, material);\n      const {rotation, position} = cube;\n      position.set(...pos);\n      rotation.y = rotation.x = Math.random() * (Math.PI * 2) * i;\n\n      cube.userData = {\n        rotSpeed: (1 + (Math.random())) * 0.05,\n        vel: new THREE.Vector3(),\n        maxVel: 0.1 + (Math.random() * 0.4),\n        fric: 0.992 + (Math.random() * 0.005)\n      };\n\n      return cube;\n    })\n    .map(function (c) {\n      scene.add(c);\n      return c;\n    });\n\n  camera.position.z = 2.9;\n\n  const forePoint = new THREE.PointLight(0xffe5ef, 1.4, 12);\n  forePoint.position.set(0, 0, 2.9);\n  const mainColor = new THREE.DirectionalLight(0xffc58f, 0.4);\n  mainColor.position.set(0, 1, 1);\n\n  scene.add(forePoint);\n  scene.add(mainColor);\n  scene.add(new THREE.AmbientLight(0x242420));\n  scene.fog = new THREE.Fog(0x06000a, 10, 15);\n\n  (function tick () {\n\n    // Mouse handling\n    const mouseVec = new THREE.Vector3((mouse.x / width) * 2 - 1, -(mouse.y / height) * 2 + 1, 0.5);\n    mouseVec.unproject(camera);\n    const mouseDir = mouseVec.sub(camera.position).normalize();\n    const distance = -camera.position.z / mouseDir.z + 12;\n    const pos = camera.position.clone().add(mouseDir.multiplyScalar(distance));\n\n    // Move cubes\n    cubes.forEach(c => {\n      const {userData: d} = c;\n\n      // Rotation\n      c.rotation.x += d.rotSpeed * (Math.sin(Date.now() / 5000));\n      c.rotation.y += d.rotSpeed * (Math.cos(Date.now() / 5000));\n\n      // Velocity\n      const dir = pos.clone().sub(c.position).normalize().multiplyScalar(0.01);\n      d.vel.add(dir).clampScalar(-d.maxVel, d.maxVel);\n      c.position.add(d.vel);\n\n      // Friction\n      d.vel.multiplyScalar(d.fric);\n\n    });\n\n    r.render(scene, camera);\n    requestAnimationFrame(tick);\n\n  }());\n\n}(window.THREE));\n"]}